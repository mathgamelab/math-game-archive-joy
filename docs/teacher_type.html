<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„ ìƒë‹˜ ìœ í˜• ì§„ë‹¨ í…ŒìŠ¤íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Pretendard:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff85a1; /* Pink */
            --secondary-color: #5b9bf8; /* Blue */
            --background-color: #f7f9fc; /* Light Gray */
            --text-color: #1f2937; /* Dark Gray */
            --main-bg-color: #a8d5f0; /* Light Blue */
        }
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        .main-title {
            font-family: 'Pretendard', sans-serif;
            font-weight: 800;
            letter-spacing: -0.02em;
        }
        .sub-title {
            font-family: 'Pretendard', sans-serif;
            font-weight: 600;
            letter-spacing: -0.01em;
        }
        .fun-text {
            font-family: 'Pretendard', sans-serif;
            font-weight: 600;
        }
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        .typing-effect {
            overflow: hidden;
            white-space: nowrap;
            animation: typing 1.5s steps(20, end);
        }
        .question-mark {
            animation: blink 1s infinite;
        }
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .main-screen {
            background: #ffffff;
            border: 4px solid #1a1a1a;
            border-radius: 20px;
            padding: 40px 20px;
            position: relative;
            overflow: hidden;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .quiz-container {
            max-width: 420px;
            width: 100%;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
            background-color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            position: relative;
            overflow: hidden;
        }
        #content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-height: 0;
        }
        .keyword-tree {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            margin: 20px 0;
            min-height: 300px;
            position: relative;
            background-color: transparent;
        }
        .tree-row {
            display: flex;
            justify-content: center;
            gap: 6px;
            flex-wrap: wrap;
        }
        .keyword-bubble {
            padding: 12px 16px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            text-align: center;
            white-space: nowrap;
            animation: fadeInScale 0.5s ease-out;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            color: white;
        }
        /* ê° ìœ í˜•ë³„ ë©”ì¸ ìƒ‰ìƒ */
        .keyword-bubble.type1 { background-color: #e63946; } /* ë¹¨ê°• - ì›ì¹™ì£¼ì˜ ìº¡í‹´ */
        .keyword-bubble.type2 { background-color: #ff85a1; } /* ë¶„í™ - í™”í•©í˜• ì½”ë””ë„¤ì´í„° */
        .keyword-bubble.type3 { background-color: #5b9bf8; } /* íŒŒë‘ - í˜„ì¥í˜• í˜ì‹ ê°€ */
        .keyword-bubble.type4 { background-color: #ff6b9d; } /* í•‘í¬ - ì¸ì‹¸ ì†Œí†µì™• */
        .keyword-bubble.type5 { background-color: #4a90e2; } /* ì§„íŒŒë‘ - ì—°êµ¬ì‹¤ì˜ í˜„ì */
        .keyword-bubble.type6 { background-color: #ffb3d1; } /* ì—°ë¶„í™ - ë”°ëœ»í•œ ë©˜í†  */
        .keyword-bubble.type7 { background-color: #6c5ce7; } /* ë³´ë¼ - íš¨ìœ¨ ì¶”êµ¬ í”„ë¡œ */
        .keyword-bubble.type8 { background-color: #fd79a8; } /* ë¡œì¦ˆ - ììœ ë¡œìš´ ì˜í˜¼ */
        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        @keyframes glitter {
            0%, 90%, 100% {
                color: #374151;
                text-shadow: 0 0 0px rgba(255, 215, 0, 0);
            }
            5% {
                color: #374151;
                text-shadow: 0 0 3px rgba(255, 215, 0, 0.6), 0 0 6px rgba(255, 215, 0, 0.4), 0 0 9px rgba(255, 215, 0, 0.2);
            }
            10% {
                color: #374151;
                text-shadow: 0 0 2px rgba(255, 215, 0, 0.4), 0 0 4px rgba(255, 215, 0, 0.3);
            }
            45% {
                color: #374151;
                text-shadow: 0 0 0px rgba(255, 215, 0, 0);
            }
            50% {
                color: #374151;
                text-shadow: 0 0 3px rgba(255, 215, 0, 0.6), 0 0 6px rgba(255, 215, 0, 0.4), 0 0 9px rgba(255, 215, 0, 0.2);
            }
            55% {
                color: #374151;
                text-shadow: 0 0 2px rgba(255, 215, 0, 0.4), 0 0 4px rgba(255, 215, 0, 0.3);
            }
        }
        .course-7 {
            background: white;
            border: 1px solid #e5e7eb;
        }
        .course-7-text {
            color: #374151;
            animation: glitter 3s ease-in-out infinite;
        }
        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }
        .keyword-tree.fade-out {
            animation: fadeOut 0.5s ease-out;
        }
        @media (max-width: 480px) {
            .quiz-container {
                padding: 10px;
            }
            .main-screen {
                padding: 30px 15px;
            }
            .main-title {
                font-size: 2rem !important;
            }
            .keyword-bubble {
                font-size: 0.85rem;
                padding: 10px 14px;
            }
        }
        .main-screen {
            background: #ffffff;
            border: 4px solid #1a1a1a;
            border-radius: 20px;
            padding: 40px 20px;
            position: relative;
            overflow: hidden;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .decorative-element {
            position: absolute;
            opacity: 0.6;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .animal-emoji {
            font-size: 3rem;
            animation: bounce 2s ease-in-out infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .start-button {
            background: linear-gradient(135deg, #87ceeb 0%, #5b9bf8 100%);
            border: 3px solid #1a1a1a;
            box-shadow: 0 4px 0 #1a1a1a;
            transition: all 0.2s;
        }
        .start-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #1a1a1a;
        }
        .start-button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #1a1a1a;
        }
        .choice-button {
            transition: all 0.2s;
            cursor: pointer;
        }
        .choice-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .choice-button:active {
            transform: translateY(0);
            box-shadow: none;
        }
        .progress-bar-fill {
            transition: width 0.3s ease-in-out;
        }
    </style>
</head>
<body>

<div class="quiz-container">
    
    <!-- Header -->
    <header class="text-center mb-8 hidden">
        <h1 class="text-2xl font-bold text-gray-800">ğŸ« ì„ ìƒë‹˜ ìœ í˜• ì§„ë‹¨ í…ŒìŠ¤íŠ¸</h1>
        <p class="text-sm text-gray-500 mt-1">í•™êµì—ì„œ ë‚˜ëŠ” ì–´ë–¤ ì„ ìƒë‹˜ì¼ê¹Œìš”?</p>
    </header>

    <!-- Quiz/Result Content Area -->
    <main id="content-area" class="flex-grow flex flex-col">
        <!-- Main Screen (Landing Page) -->
        <div id="main-screen" class="main-screen">
            <!-- Decorative Elements -->
            <div class="decorative-element" style="top: 10px; left: 20px; font-size: 1.5rem;">â­</div>
            <div class="decorative-element" style="top: 30px; right: 30px; font-size: 1.2rem; animation-delay: 0.5s;">ğŸ’›</div>
            <div class="decorative-element" style="top: 60px; left: 50px; font-size: 1rem; animation-delay: 1s;">ğŸŒ¸</div>
            <div class="decorative-element" style="top: 80px; right: 50px; font-size: 1.3rem; animation-delay: 1.5s;">ğŸ’–</div>
            <div class="decorative-element" style="bottom: 100px; left: 30px; font-size: 1.1rem; animation-delay: 0.8s;">âœ¨</div>
            <div class="decorative-element" style="bottom: 80px; right: 40px; font-size: 1.4rem; animation-delay: 1.2s;">ğŸŒº</div>
            <div class="decorative-element" style="bottom: 120px; left: 60px; font-size: 1rem; animation-delay: 0.3s;">â­</div>
            <div class="decorative-element" style="top: 120px; left: 80px; font-size: 1.2rem; animation-delay: 0.7s;">ğŸ’</div>
            
            <!-- Title -->
            <div class="text-center mb-8 flex-grow flex flex-col justify-center">
                <h1 class="main-title text-3xl mb-2" style="color: #1a1a1a; text-shadow: 2px 2px 0px rgba(255,255,255,0.8), 4px 4px 8px rgba(0,0,0,0.2);">
                    ğŸ« ì„ ìƒë‹˜ ìœ í˜• í…ŒìŠ¤íŠ¸
                </h1>
                <p class="fun-text text-base mb-4" style="color: #4a5568; text-shadow: 1px 1px 2px rgba(255,255,255,0.9), 2px 2px 4px rgba(0,0,0,0.1);">
                    í•™êµì—ì„œ ë‚˜ëŠ” ì–´ë–¤ ì„ ìƒë‹˜ì¼ê¹Œìš”?
                </p>
            </div>
            
            <!-- Keyword Tree -->
            <div id="keyword-tree-container" class="flex-grow flex items-center justify-center relative z-10">
                <div id="keyword-tree" class="keyword-tree"></div>
            </div>
            
            <!-- More Decorative Elements -->
            <div class="decorative-element" style="top: 200px; left: 10px; font-size: 1.2rem; animation-delay: 0.4s;">â­</div>
            <div class="decorative-element" style="top: 180px; right: 20px; font-size: 1rem; animation-delay: 0.9s;">âœ¨</div>
            <div class="decorative-element" style="bottom: 200px; left: 15px; font-size: 1.3rem; animation-delay: 1.1s;">ğŸŒ</div>
            <div class="decorative-element" style="bottom: 180px; right: 15px; font-size: 1.1rem; animation-delay: 0.6s;">ğŸ’</div>
            
            <!-- Start Button -->
            <div class="text-center mt-auto relative z-10">
                <button 
                    onclick="startQuiz()"
                    class="start-button w-full py-4 text-white fun-text text-xl rounded-xl"
                >
                    ì‹œì‘í•˜ê¸°
                </button>
            </div>
            
            <!-- Footer -->
            <div class="text-center mt-2 mb-0 relative z-5">
                <p class="text-xs text-gray-600" style="font-family: 'Pretendard', sans-serif; margin: 0;">
                    <span style="color: #9ca3af;">Â©</span> 
                    <span style="color: #9ca3af;">ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œì‹œêµìœ¡ì²­ | </span>
                    <a href="https://" target="_blank" class="text-blue-500 hover:text-blue-600 transition-colors" style="text-decoration: none;">
                        ë””ì§€í„¸ê¸°ë°˜ êµìœ¡í˜ì‹  ì—­ëŸ‰ê°•í™” ì—°ìˆ˜
                    </a>
                </p>
            </div>
        </div>
        
        <!-- Content will be injected here -->
        <div id="quiz-screen" class="hidden"></div>
        <div id="result-screen" class="hidden"></div>
    </main>

    <!-- Navigation/Progress Area -->
    <footer id="progress-area" class="mt-8 hidden">
        <!-- Progress Bar -->
        <div class="w-full bg-gray-200 rounded-full h-2.5 mb-1">
            <div id="progress-bar" class="bg-[var(--primary-color)] h-2.5 rounded-full progress-bar-fill" style="width: 0%"></div>
        </div>
        <p id="question-counter" class="text-xs text-right text-gray-500">0/16</p>
    </footer>

</div>

<script>
    // Constants
    const NUM_QUESTIONS = 16;

    // A simple, single-session state object
    const quizState = {
        currentQIndex: 0,
        // E/I (ì™¸í–¥/ë‚´í–¥), P/J (ìœ ì—°/ê³„íš), T/F (ì‚¬ê³ /ê°ì •)
        // Score: E, P, T side gets +1. I, J, F side gets 0.
        scores: { E: 0, P: 0, T: 0 },
        courseAnswers: [], // ì—°ìˆ˜ ê³¼ì • ê´€ë ¨ ì§ˆë¬¸ ë‹µë³€ ì €ì¥
        isFinished: false,
    };

    // 12 Questions (4 per axis: E/I, P/J, T/F)
    const questions = [
        // --- E/I (4 questions) ---
        // E: ë™ë£Œì™€ í˜‘ë ¥, I: í˜¼ì í•´ê²°
        {
            id: 1, text: "ìƒˆí•™ê¸° ë³µì¡í•œ í•™êµ ì—…ë¬´ ë¶„ì¥ì„ ë§¡ê²Œ ë˜ì—ˆë‹¤ë©´?", axis: 'E',
            choices: [
                { text: "í•¨ê»˜ í•  ë™ë£Œ ì„ ìƒë‹˜ë“¤ê³¼ ë¨¸ë¦¬ë¥¼ ë§ëŒ€ê³  ë…¼ì˜í•œë‹¤.", value: 1, code: 'E' },
                { text: "ë‚˜ë§Œì˜ ê¸°ì¤€ì— ë”°ë¼ ì¡°ìš©íˆ ë¶„ì„í•˜ê³  ì´ˆì•ˆì„ ë§Œë“ ë‹¤.", value: 0, code: 'I' }
            ]
        },
        {
            id: 2, text: "ì‰¬ëŠ” ì‹œê°„ì— í•™ìƒ ë¬´ë¦¬ê°€ ì„ ìƒë‹˜ì„ ì°¾ì•„ì™€ ì‹œëŒë²…ì í•˜ê²Œ ì§ˆë¬¸í•œë‹¤ë©´?", axis: 'E',
            choices: [
                { text: "ë°˜ê°‘ê²Œ ë§ì•„ì£¼ë©° ì—¬ëŸ¬ í•™ìƒì˜ ì§ˆë¬¸ì— ë™ì‹œì— ë‹µí•œë‹¤.", value: 1, code: 'E' },
                { text: "ì°¨ë¶„í•˜ê²Œ í•œ ëª…ì”© ì¤„ ì„œì„œ ì¡°ìš©íˆ ì§ˆë¬¸í•˜ë¼ê³  ì•ˆë‚´í•œë‹¤.", value: 0, code: 'I' }
            ]
        },
        {
            id: 3, text: "í•™ìƒë“¤ì´ ì‰¬ëŠ” ì‹œê°„ì— ì„ ìƒë‹˜ ì£¼ë³€ì— ëª¨ì—¬ì„œ ì™ìì§€ê»„ ë– ë“¤ë©° ì›ƒê³  ìˆë‹¤ë©´?", axis: 'E',
            choices: [
                { text: "í•™ìƒë“¤ ì‚¬ì´ì— ë¼ì–´ë“¤ì–´ í•¨ê»˜ ì›ƒìœ¼ë©° ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆˆë‹¤.", value: 1, code: 'E' },
                { text: "ì˜†ì—ì„œ ì§€ì¼œë³´ë©° ê°€ë” ë¯¸ì†Œë¥¼ ì§“ê±°ë‚˜ ì¡°ìš©íˆ ê´€ì°°í•œë‹¤.", value: 0, code: 'I' }
            ]
        },
        {
            id: 4, text: "í•™êµ ì¶•ì œ ê¸°íš íŒ€ì— í•©ë¥˜í•˜ê²Œ ë˜ì—ˆë‹¤. ì–´ë–¤ ì—­í• ì„ ì„ í˜¸í•˜ëŠ”ê°€?", axis: 'E',
            choices: [
                { text: "ì „ì²´ íšŒì˜ë¥¼ ì£¼ë„í•˜ê³  ì™¸ë¶€ í˜‘ë ¥ì„ ë§¡ëŠ” ì—­í• .", value: 1, code: 'E' },
                { text: "í•„ìš”í•œ ìë£Œ ì¡°ì‚¬, ë‚´ë¶€ ë¬¸ì„œ ì •ë¦¬ ë“± ì§€ì› ì—­í• .", value: 0, code: 'I' }
            ]
        },

        // --- P/J (4 questions) ---
        // P: ìœ ì—°, ì„ê¸°ì‘ë³€, J: ê³„íš, ê·œì¹™
        {
            id: 5, text: "ê°‘ìê¸° êµìœ¡ê³¼ì • ì„¤ëª…íšŒ ì¼ì •ì´ 3ì¼ ì•ìœ¼ë¡œ ë‹¹ê²¨ì¡Œë‹¤!", axis: 'P',
            choices: [
                { text: "ìƒí™©ì„ ë¹ ë¥´ê²Œ íŒŒì•…í•˜ê³ , í•µì‹¬ ë‚´ìš©ë§Œìœ¼ë¡œ ìœ ì—°í•˜ê²Œ ì¼ì •ì„ ì¬ì¡°ì •í•œë‹¤.", value: 1, code: 'P' },
                { text: "ì¼ë‹¨ ì›ë˜ ê³„íšëŒ€ë¡œ í•„ìš”í•œ ìë£Œë¥¼ ëª¨ë‘ ì¤€ë¹„í•˜ë ¤ ë…¸ë ¥í•˜ë©° ë°¤ì„ ìƒŒë‹¤.", value: 0, code: 'J' }
            ]
        },
        {
            id: 6, text: "ìˆ˜ì—… ì¤‘ ê°‘ìê¸° í•™ìƒë“¤ì´ ì˜ˆìƒì¹˜ ëª»í•œ ì§ˆë¬¸ì„ ìŸì•„ë‚¸ë‹¤ë©´?", axis: 'P',
            choices: [
                { text: "ìˆ˜ì—… íë¦„ì„ ì ì‹œ ë©ˆì¶”ê³  í•™ìƒë“¤ì˜ ì§ˆë¬¸ì— ë§ì¶° ì¦‰í¥ì ì¸ í† ë¡ ì„ ì§„í–‰í•œë‹¤.", value: 1, code: 'P' },
                { text: "ì¼ë‹¨ ì§ˆë¬¸ì€ ê¸°ë¡í•´ë‘ê³ , ì›ë˜ ê³„íší–ˆë˜ ìˆ˜ì—… ë‚´ìš©ë¶€í„° ì™„ë²½íˆ ë§ˆì¹œë‹¤.", value: 0, code: 'J' }
            ]
        },
        {
            id: 7, text: "ìƒˆ í•™ë…„ í•™ê¸‰ ê²½ì˜ ê³„íšì„ ì§¤ ë•Œ, ë‚˜ëŠ” ì£¼ë¡œ?", axis: 'P',
            choices: [
                { text: "ëŒ€ëµì ì¸ í‹€ë§Œ ì¡ì•„ë‘ê³  í•™ìƒë“¤ê³¼ í•¨ê»˜ ë””í…Œì¼ì„ ì±„ì›Œë‚˜ê°„ë‹¤.", value: 1, code: 'P' },
                { text: "ì›”ë³„, ì£¼ë³„ ê³„íšê¹Œì§€ ê¼¼ê¼¼í•˜ê²Œ ì •ë¦¬ëœ ë§¤ë‰´ì–¼ì„ ë¯¸ë¦¬ ë§Œë“ ë‹¤.", value: 0, code: 'J' }
            ]
        },
        {
            id: 8, text: "ì´ëŸ° ê¹œë¹¡í–ˆë‹¤! ë³´ê³ ì„œ ì œì¶œ ê¸°í•œì´ ì„ë°•í–ˆë‹¤ë©´?", axis: 'P',
            choices: [
                { text: "ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ì¼ë‹¨ ì œì¶œí•˜ê³  ë‚˜ì¤‘ì— ìˆ˜ì • ë³´ì™„í•  ìƒê°ì„ í•œë‹¤.", value: 1, code: 'P' },
                { text: "ë§ˆì§€ë§‰ ìˆœê°„ê¹Œì§€ ê²€í† í•˜ë©° ê³„íšëœ ìˆ˜ì¤€ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë¶™ì¡ê³  ìˆëŠ”ë‹¤.", value: 0, code: 'J' }
            ]
        },

        // --- T/F (4 questions) ---
        // T: ë…¼ë¦¬, ì›ì¹™, F: ê°ì •, ê´€ê³„
        {
            id: 9, text: "í•™ìƒì´ ì–µìš¸í•¨ì„ í˜¸ì†Œí•˜ë©° ê·œì¹™ ìœ„ë°˜ì— ëŒ€í•´ ëˆˆë¬¼ë¡œ ì„ ì²˜ë¥¼ ë¶€íƒí•œë‹¤ë©´?", axis: 'T',
            choices: [
                { text: "ê·œì¹™ì€ ê·œì¹™ì´ë‹¤. ëª¨ë‘ì—ê²Œ ê³µì •í•˜ê²Œ ì›ì¹™ëŒ€ë¡œ ì²˜ë¦¬í•œë‹¤.", value: 1, code: 'T' },
                { text: "í•™ìƒì˜ ìƒí™©ê³¼ ê°ì •ì„ ê³ ë ¤í•˜ì—¬ ìµœëŒ€í•œ ì„ ì²˜í•  ë°©ë²•ì„ ì°¾ì•„ë³¸ë‹¤.", value: 0, code: 'F' }
            ]
        },
        {
            id: 10, text: "êµë¬´ì‹¤ì—ì„œ ë™ë£Œ ì„ ìƒë‹˜ë“¤ ê°„ì˜ ì˜ê²¬ ì¶©ëŒì´ ë°œìƒí–ˆë‹¤.", axis: 'T',
            choices: [
                { text: "ê°ê´€ì ì¸ ë°ì´í„°ì™€ ë…¼ë¦¬ë¥¼ í†µí•´ ê°€ì¥ í•©ë¦¬ì ì¸ í•´ê²°ì±…ì„ ì œì‹œí•œë‹¤.", value: 1, code: 'T' },
                { text: "ëª¨ë‘ì˜ ê°ì •ì„ ìƒí•˜ì§€ ì•Šë„ë¡ ë¶€ë“œëŸ¬ìš´ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“¤ê³  ì¤‘ì¬í•œë‹¤.", value: 0, code: 'F' }
            ]
        },
        {
            id: 11, text: "í•™ìƒì„ ì¹­ì°¬í•  ì¼ì´ ìƒê²¼ë‹¤ë©´?", axis: 'T',
            choices: [
                { text: "êµ¬ì²´ì ì¸ ì„±ê³¼ë‚˜ ë…¼ë¦¬ì  ê³¼ì •(ì˜ˆ: 'ì˜¤ë‹µ ë¶„ì„ì´ í›Œë¥­í–ˆì–´')ì„ ì¹­ì°¬í•œë‹¤.", value: 1, code: 'T' },
                { text: "í•™ìƒì˜ ë…¸ë ¥, ì¸ì„± ë“± íƒœë„(ì˜ˆ: 'ì¹œêµ¬ë¥¼ ë•ëŠ” ë§ˆìŒì´ ì˜ˆì˜ë„¤')ë¥¼ ì¹­ì°¬í•œë‹¤.", value: 0, code: 'F' }
            ]
        },
        {
            id: 12, text: "í•™êµ í‰ê°€ë¥¼ ìœ„í•œ ìë£Œë¥¼ ë§Œë“¤ ë•Œ, ë‚˜ì˜ ê¸°ì¤€ì€?", axis: 'T',
            choices: [
                { text: "í‰ê°€ í•­ëª©ì— ë§ì¶”ì–´ ì„±ê³¼ë¥¼ ëª…í™•íˆ ë³´ì—¬ì£¼ëŠ” ë°ì´í„°ì™€ ê²°ê³¼ ì¤‘ì‹¬.", value: 1, code: 'T' },
                { text: "í•™êµì˜ ê¸ì •ì ì¸ ë¶„ìœ„ê¸°, êµìœ¡ ê³µë™ì²´ì˜ í™”í•© ë…¸ë ¥ ë“±ì„ ê°•ì¡°.", value: 0, code: 'F' }
            ]
        },

        // --- ì—°ìˆ˜ ê³¼ì • ê´€ë ¨ ì§ˆë¬¸ (3ê°œ) ---
        {
            id: 13, text: "ë””ì§€í„¸ ë„êµ¬ë¥¼ ìˆ˜ì—…ì— í™œìš©í•˜ëŠ” ê²ƒì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?", axis: 'C',
            choices: [
                { text: "ìƒˆë¡œìš´ ê¸°ìˆ ì„ ë°°ì›Œì„œ í•™ìƒë“¤ì˜ ì°¸ì—¬ë„ë¥¼ ë†’ì´ê³  ì‹¶ë‹¤.", value: 1, code: 'C' },
                { text: "ê¸°ì¡´ ë°©ì‹ì´ í¸í•˜ê¸´í•˜ì§€ë§Œ í•„ìš”í•˜ë‹¤ë©´ ë°°ìš¸ ì˜í–¥ì´ ìˆë‹¤.", value: 0, code: 'C' }
            ]
        },
        {
            id: 14, text: "ì—°ìˆ˜ì— ì°¸ì—¬í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?", axis: 'C',
            choices: [
                { text: "ì‹¤ì œ ìˆ˜ì—…ì— ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ìš©ì ì¸ ë„êµ¬ì™€ ë°©ë²•.", value: 1, code: 'C' },
                { text: "êµìœ¡ ì² í•™ê³¼ ì´ë¡ ì  ë°°ê²½ì„ ì´í•´í•˜ê³  ê¹Šì´ ìˆê²Œ í•™ìŠµ.", value: 0, code: 'C' }
            ]
        },
        {
            id: 15, text: "ì¸ê³µì§€ëŠ¥ì„ í™œìš©í•œ ìˆ˜ì—…ì— ëŒ€í•œ ë‚˜ì˜ ê´€ì‹¬ë„ëŠ”?", axis: 'C',
            choices: [
                { text: "ë§¤ìš° ê´€ì‹¬ì´ ë§ê³ , í•™ìƒë“¤ì—ê²Œ ë¯¸ë˜ ì—­ëŸ‰ì„ ê¸°ë¥´ê³  ì‹¶ë‹¤.", value: 1, code: 'C' },
                { text: "ê´€ì‹¬ì€ ìˆì§€ë§Œ, ì–´ë–»ê²Œ ì‹œì‘í•´ì•¼ í• ì§€ ë§‰ë§‰í•˜ë‹¤.", value: 0, code: 'C' }
            ]
        },
        {
            id: 16, text: "ì—°ìˆ˜ë¥¼ ë“¤ì„ ë•Œ ì–´ë–¤ í•™ìŠµ ë°©ì‹ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”?", axis: 'C',
            choices: [
                { text: "ë™ë£Œë“¤ê³¼ í•¨ê»˜ í˜‘ë ¥í•˜ë©° í† ë¡ í•˜ê³  ì‹¤ìŠµí•˜ëŠ” ê·¸ë£¹ í•™ìŠµ.", value: 1, code: 'C' },
                { text: "ë‚˜ë§Œì˜ ì†ë„ë¡œ ì°¨ê·¼ì°¨ê·¼ ë”°ë¼í•˜ë©° ìµíˆëŠ” ìê¸°ì£¼ë„ í•™ìŠµ.", value: 0, code: 'C' }
            ]
        }
    ];

    // 8 Teacher Types (2x2x2) and Recommendations
    // E/I(1/0) | P/J(1/0) | T/F(1/0)
    // 1: E (E=1) | 1: P (P=1) | 1: T (T=1) -> E P T
    const teacherTypes = [
        // Type 1: E-J-T (1-0-1) - ì›ì¹™ì£¼ì˜ ìº¡í‹´ (EJ-T)
        {
            code: 'EJ-T', score: '101', name: 'âš“ ì›ì¹™ì£¼ì˜ ìº¡í‹´', 
            description: 'ì›ì¹™ê³¼ ë…¼ë¦¬ë¥¼ ì¤‘ìš”ì‹œí•˜ëŠ” ì¹´ë¦¬ìŠ¤ë§ˆ ë„˜ì¹˜ëŠ” ë¦¬ë”ì…ë‹ˆë‹¤. ëª…í™•í•œ ëª©í‘œë¥¼ ì„¸ìš°ê³  ë™ë£Œë“¤ê³¼ í•¨ê»˜ íš¨ìœ¨ì ì¸ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ë° ëŠ¥ìˆ™í•©ë‹ˆë‹¤. ê³„íšì´ í‹€ì–´ì§€ëŠ” ê²ƒì„ ì‹«ì–´í•˜ì§€ë§Œ, ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•´ì„  ëˆ„êµ¬ë³´ë‹¤ ì—´ì •ì ìœ¼ë¡œ ì°¸ì—¬í•©ë‹ˆë‹¤.',
            courses: [4, 7],
            courseAnalysis: 'ì„ ìƒë‹˜ì€ ì²´ê³„ì ì´ê³  ëª©í‘œ ì§€í–¥ì ì¸ ì„±í–¥ì„ ê°€ì§€ê³  ìˆì–´, í•™ìŠµì ë§ì¶¤í˜• ì†Œí”„íŠ¸ì›¨ì–´ì™€ SW-AI ì—­ëŸ‰ ì—°ìˆ˜ë¥¼ í†µí•´ ì²´ê³„ì ì¸ ë””ì§€í„¸ êµìœ¡ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ ëª…í™•í•œ êµìœ¡ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê³ , ë…¼ë¦¬ì ì´ê³  íš¨ìœ¨ì ì¸ ìˆ˜ì—… ì„¤ê³„ ì—­ëŸ‰ì„ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        // Type 2: E-J-F (1-0-0) - í™”í•©í˜• ì½”ë””ë„¤ì´í„° (EJ-F)
        {
            code: 'EJ-F', score: '100', name: 'ğŸ¤ í™”í•©í˜• ì½”ë””ë„¤ì´í„°',
            description: 'ë”°ëœ»í•œ ë§ˆìŒìœ¼ë¡œ ëª¨ë‘ì˜ ì˜ê²¬ì„ ì¡°ìœ¨í•˜ëŠ” ì¡°í™”ì˜ ìƒì§•ì…ë‹ˆë‹¤. ê³„íšì„ ì„¸ìš°ì§€ë§Œ, ê·¸ ê³„íšì´ ì‚¬ëŒë“¤ì—ê²Œ ë¯¸ì¹  ì˜í–¥ì„ ìš°ì„  ê³ ë ¤í•©ë‹ˆë‹¤. ê³µë™ì²´ì˜ ì•ˆì •ê³¼ ê¸ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œëŠ” ë° íƒì›”í•œ ëŠ¥ë ¥ì„ ë°œíœ˜í•©ë‹ˆë‹¤.',
            courses: [2, 5],
            courseAnalysis: 'ì„ ìƒë‹˜ì˜ ë”°ëœ»í•˜ê³  í˜‘ë ¥ì ì¸ ì„±í–¥ì€ ë””ì§€í„¸ ê¸°ë°˜ ìˆ˜ì—… í™œì„±í™”ì™€ ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° í™œìš© ì—°ìˆ˜ì™€ ì˜ ë§ìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ í•™ìƒë“¤ê³¼ì˜ ì†Œí†µì„ ê°•í™”í•˜ê³ , ê³µë™ì²´ì˜ ê¸ì •ì ì¸ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“¤ì–´ê°€ëŠ” ë””ì§€í„¸ êµìœ¡ ì—­ëŸ‰ì„ ê¸°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í˜‘ë ¥ì ì´ê³  í™”í•©ì ì¸ ìˆ˜ì—… í™˜ê²½ì„ ì¡°ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        // Type 3: E-P-T (1-1-1) - í˜„ì¥í˜• í˜ì‹ ê°€ (EP-T)
        {
            code: 'EP-T', score: '111', name: 'ğŸš€ í˜„ì¥í˜• í˜ì‹ ê°€',
            description: 'ìƒˆë¡œìš´ ì‹œë„ì— ê±°ë¦¬ë‚Œì´ ì—†ê³ , ì¦‰ê°ì ì¸ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ í™œë™ê°€ì…ë‹ˆë‹¤. ë³µì¡í•œ ìƒí™©ì—ì„œë„ ë…¼ë¦¬ì ìœ¼ë¡œ í•µì‹¬ì„ íŒŒì•…í•˜ê³  ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•©ë‹ˆë‹¤. ê²°ê³¼ì™€ íš¨ìœ¨ì„ ì¤‘ìš”ì‹œí•˜ë©° ë³€í™”ë¥¼ ì¦ê¹ë‹ˆë‹¤.',
            courses: [3, 6],
            courseAnalysis: 'ì„ ìƒë‹˜ì˜ í˜ì‹ ì ì´ê³  ìœ ì—°í•œ ì„±í–¥ì€ ê¸€ë¡œë²Œ ì—ë“€í…Œí¬ ë§ˆìŠ¤í„° ì¸ì¦ê³¼ ìƒì„±í˜• AI í™œìš© ì—°ìˆ˜ì™€ ì™„ë²½í•˜ê²Œ ë§ìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ ìµœì‹  êµìœ¡ ê¸°ìˆ ì„ ë¹ ë¥´ê²Œ ìŠµë“í•˜ê³ , ì¦‰ì‹œ ìˆ˜ì—… í˜„ì¥ì— ì ìš©í•˜ì—¬ í•™ìƒë“¤ì˜ í•™ìŠµ íš¨ê³¼ë¥¼ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³€í™”ë¥¼ ì£¼ë„í•˜ëŠ” ì„ ë„ êµì‚¬ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        // Type 4: E-P-F (1-1-0) - ì¸ì‹¸ ì†Œí†µì™• (EP-F)
        {
            code: 'EP-F', score: '110', name: 'ğŸ‰ ì¸ì‹¸ ì†Œí†µì™•',
            description: 'í•™ìƒ, ë™ë£Œ ëˆ„êµ¬ì™€ë„ ìŠ¤ìŠ¤ëŸ¼ì—†ì´ ì†Œí†µí•˜ëŠ” ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” êµì‚¬ì…ë‹ˆë‹¤. ì •í•´ì§„ í‹€ë³´ë‹¤ëŠ” ì¸ê°„ì ì¸ ê´€ê³„ë¥¼ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤. ì‚¬ëŒë“¤ì˜ í–‰ë³µê³¼ ììœ ë¡œìš´ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œëŠ” ë° ì¬ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.',
            courses: [5, 7],
            courseAnalysis: 'ì„ ìƒë‹˜ì˜ ì†Œí†µ ëŠ¥ë ¥ê³¼ ììœ ë¡œìš´ ì„±í–¥ì€ ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° í™œìš©ê³¼ SW-AI ì—­ëŸ‰ ì—°ìˆ˜ë¥¼ í†µí•´ ë”ìš± ë¹›ì„ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ í•™ìƒë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš©ì„ ê°•í™”í•˜ê³ , ì¦ê²ê³  ììœ ë¡œìš´ ë¶„ìœ„ê¸°ì˜ ë””ì§€í„¸ ìˆ˜ì—…ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê´€ê³„ ì¤‘ì‹¬ì˜ ë”°ëœ»í•œ ë””ì§€í„¸ êµìœ¡ í™˜ê²½ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        // Type 5: I-J-T (0-0-1) - ì—°êµ¬ì‹¤ì˜ í˜„ì (IJ-T)
        {
            code: 'IJ-T', score: '001', name: 'ğŸ”¬ ì—°êµ¬ì‹¤ì˜ í˜„ì',
            description: 'ì¡°ìš©íˆ ìì‹ ì˜ ì—…ë¬´ë¥¼ ê³„íší•˜ê³  ê¹Šì´ ìˆê²Œ ë¶„ì„í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ë¹„íš¨ìœ¨ì ì¸ ê²ƒì„ ê°€ì¥ ì‹«ì–´í•˜ë©°, í˜¼ìë§Œì˜ ì‹œê°„ì„ í†µí•´ ìµœì ì˜ êµìˆ˜ë²•ì„ ëŠì„ì—†ì´ ì—°êµ¬í•©ë‹ˆë‹¤. ë…¼ë¦¬ì ì´ê³  ì²´ê³„ì ì¸ ë³´ê³ ì„œ ì‘ì„±ì„ ì˜í•©ë‹ˆë‹¤.',
            courses: [2, 4],
            courseAnalysis: 'ì„ ìƒë‹˜ì˜ ê¹Šì´ ìˆëŠ” ì—°êµ¬ ì„±í–¥ê³¼ ì²´ê³„ì ì¸ ì ‘ê·¼ ë°©ì‹ì€ ë””ì§€í„¸ ê¸°ë°˜ ìˆ˜ì—… í™œì„±í™”ì™€ í•™ìŠµì ë§ì¶¤í˜• ì†Œí”„íŠ¸ì›¨ì–´ í™œìš© ì—°ìˆ˜ì™€ ì˜ ë§ìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ ë””ì§€í„¸ êµìœ¡ì˜ ì´ë¡ ì  ë°°ê²½ì„ ê¹Šì´ ì´í•´í•˜ê³ , ì²´ê³„ì ì´ê³  íš¨ìœ¨ì ì¸ ìˆ˜ì—… ì„¤ê³„ ì—­ëŸ‰ì„ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì™„ë²½í•œ ë””ì§€í„¸ êµìœ¡ ì „ë¬¸ê°€ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        // Type 6: I-J-F (0-0-0) - ë”°ëœ»í•œ ë©˜í†  (IJ-F)
        {
            code: 'IJ-F', score: '000', name: 'ğŸ¤— ë”°ëœ»í•œ ë©˜í† ',
            description: 'ë§ì—†ì´ í•™ìƒë“¤ì„ ì±™ê¸°ëŠ” ì† ê¹Šì€ ë°°ë ¤í˜• ê´€ë¦¬ìì…ë‹ˆë‹¤. ì¡°ìš©í•˜ì§€ë§Œ ë§¡ì€ ì¼ì€ ê¼¼ê¼¼íˆ ì²˜ë¦¬í•˜ë©°, í•™ìƒ í•œ ëª… í•œ ëª…ì˜ ì„±ì¥ì„ ê³„íšì ìœ¼ë¡œ ì§€ì›í•©ë‹ˆë‹¤. ê°ì •ì„ ì´í•´í•˜ê³  ê³µê°í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.',
            courses: [6, 7],
            courseAnalysis: 'ì„ ìƒë‹˜ì˜ ë°°ë ¤ì‹¬ê³¼ ê³„íšì ì¸ ì„±í–¥ì€ ìƒì„±í˜• AI í™œìš©ê³¼ SW-AI ì—­ëŸ‰ ì—°ìˆ˜ë¥¼ í†µí•´ í•™ìƒ ê°œë³„ ë§ì¶¤í˜• êµìœ¡ì„ ì‹¤í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ ê° í•™ìƒì˜ ì„±ì¥ì„ ì„¸ì‹¬í•˜ê²Œ ì§€ì›í•˜ê³ , ë”°ëœ»í•˜ê³  ê°œì¸í™”ëœ ë””ì§€í„¸ êµìœ¡ í™˜ê²½ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•™ìƒ ì¤‘ì‹¬ì˜ ë°°ë ¤í˜• ë””ì§€í„¸ êµìœ¡ì„ ì‹¤í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        // Type 7: I-P-T (0-1-1) - íš¨ìœ¨ ì¶”êµ¬ í”„ë¡œ (IP-T)
        {
            code: 'IP-T', score: '011', name: 'ğŸ’¼ ì—…ë¬´ ë°°í…Œë‘',
            description: 'ì‹¤ìš©ì„±ê³¼ íš¨ìœ¨ì„±ì„ ìµœìš°ì„ ìœ¼ë¡œ ìƒê°í•˜ëŠ” ì‹¤ë ¥íŒŒ êµì‚¬ì…ë‹ˆë‹¤. ë³µì¡í•œ ê·œì •ë³´ë‹¤ëŠ” ì‹¤ì§ˆì ì¸ í•´ê²°ì±…ì„ ì°¾ì•„ ìœ ì—°í•˜ê²Œ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ í˜•ì‹ì ì¸ ì ˆì°¨ë¥¼ ìµœì†Œí™”í•˜ê³  ì„±ê³¼ì— ì§‘ì¤‘í•©ë‹ˆë‹¤.',
            courses: [3, 7],
            courseAnalysis: 'ì„ ìƒë‹˜ì˜ ì‹¤ìš©ì ì´ê³  íš¨ìœ¨ì ì¸ ì„±í–¥ì€ ê¸€ë¡œë²Œ ì—ë“€í…Œí¬ ë§ˆìŠ¤í„° ì¸ì¦ê³¼ SW-AI ì—­ëŸ‰ ì—°ìˆ˜ë¥¼ í†µí•´ ì¦‰ì‹œ í™œìš© ê°€ëŠ¥í•œ ì‹¤ì „ ë„êµ¬ë¥¼ ìŠµë“í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ ë³µì¡í•œ ì ˆì°¨ ì—†ì´ í•µì‹¬ ê¸°ëŠ¥ë§Œ ë¹ ë¥´ê²Œ ìµí˜€ ìˆ˜ì—…ì— ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íš¨ìœ¨ì ì¸ ë””ì§€í„¸ êµìœ¡ ì‹¤ë¬´ ì „ë¬¸ê°€ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        },
        // Type 8: I-P-F (0-1-0) - ììœ ë¡œìš´ ì˜í˜¼ (IP-F)
        {
            code: 'IP-F', score: '010', name: 'ğŸ¨ ììœ ë¡œìš´ ì˜í˜¼',
            description: 'í‹€ì— ì–½ë§¤ì´ì§€ ì•Šê³  ê°œì¸ì˜ ê°€ì¹˜ì™€ ê°ìˆ˜ì„±ì„ ì¤‘ì‹œí•˜ëŠ” êµì‚¬ì…ë‹ˆë‹¤. í•™ìƒë“¤ì˜ ì°½ì˜ì„±ì„ ì¡´ì¤‘í•˜ë©°, ë¹„ê·œì¹™ì ì¸ ìƒí™©ì—ì„œë„ í¥ë¯¸ë¡œìš´ êµìœ¡ ê¸°íšŒë¥¼ ë°œê²¬í•©ë‹ˆë‹¤. í¸ì•ˆí•˜ê³  ììœ ë¡œìš´ í•™ê¸‰ ë¶„ìœ„ê¸°ë¥¼ ì¡°ì„±í•©ë‹ˆë‹¤.',
            courses: [2, 7],
            courseAnalysis: 'ì„ ìƒë‹˜ì˜ ììœ ë¡­ê³  ì°½ì˜ì ì¸ ì„±í–¥ì€ ë””ì§€í„¸ ê¸°ë°˜ ìˆ˜ì—… í™œì„±í™”ì™€ SW-AI ì—­ëŸ‰ ì—°ìˆ˜ë¥¼ í†µí•´ ìœ ì—°í•˜ê³  ì°½ì˜ì ì¸ ìˆ˜ì—…ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì—°ìˆ˜ë“¤ì„ í†µí•´ í•™ìƒë“¤ì˜ ê°œì„±ì„ ì¡´ì¤‘í•˜ê³ , ììœ ë¡­ê³  ì°½ì˜ì ì¸ ë””ì§€í„¸ êµìœ¡ í™˜ê²½ì„ ì¡°ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í‹€ì— ì–½ë§¤ì´ì§€ ì•ŠëŠ” í˜ì‹ ì ì¸ ë””ì§€í„¸ êµìœ¡ì„ ì‹¤í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'
        }
    ];

    // Training Courses from the uploaded image (2ë²ˆë¶€í„° 7ë²ˆê¹Œì§€)
    const allCourses = {
        2: 'ë””ì§€í„¸ ê¸°ë°˜ ìˆ˜ì—… í™œì„±í™” ì—°ìˆ˜ (ì¤‘ë“±)',
        3: 'ê¸€ë¡œë²Œ ì—ë“€í…Œí¬ ë§ˆìŠ¤í„° ì¸ì¦ ì—°ìˆ˜',
        4: 'í•™ìŠµì ë§ì¶¤í˜• ì†Œí”„íŠ¸ì›¨ì–´ í™œìš© ì—­ëŸ‰ ê°•í™” ì—°ìˆ˜',
        5: 'ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° í™œìš© ì—°ìˆ˜',
        6: 'ìƒì„±í˜• AI í™œìš© ì—­ëŸ‰ ê°•í™” ì—°ìˆ˜ (ì‹¬í™”)',
        7: 'SW-AI ì—­ëŸ‰ ì •ë³´í™” ì—°ìˆ˜ (ë°”ì´ë¸Œì½”ë”©)'
    };

    // Keywords for each teacher type (5ì¤„ êµ¬ì¡°)
    const typeKeywords = {
        'EJ-T': [
            ['ì¹´ë¦¬ìŠ¤ë§ˆ', 'ì›ì¹™ì£¼ì˜', 'ë¦¬ë”ì‹­'],
            ['ê³„íšì„±', 'íš¨ìœ¨ì„±', 'ëª©í‘œì§€í–¥'],
            ['ì±…ì„ê°', 'ë…¼ë¦¬ì ', 'ì²´ê³„ì ', 'ê²°ë‹¨ë ¥'],
            ['ì¶”ì§„ë ¥', 'ì™„ë²½ì£¼ì˜', 'ë…ë¦½ì '],
            ['ëª©í‘œê°€ í™•ì‹¤í•¨', 'íŒ©í­ ë¨¸ì‹ ']
        ],
        'EJ-F': [
            ['ë”°ëœ»í•¨', 'ì¡°í™”', 'ë°°ë ¤'],
            ['ê³„íšì„±', 'ê³µë™ì²´', 'ê¸ì •ì '],
            ['ê³µê°ëŠ¥ë ¥', 'í˜‘ë ¥', 'ë‹¤ì •í•¨'],
            ['ì¸ë‚´ì‹¬', 'ì„¸ì‹¬í•¨', 'í™”í•©'],
            ['ëª¨ë‘ë¥¼ ìœ„í•œ ê³„íš', 'ë”°ëœ»í•œ ë¦¬ë”ì‹­']
        ],
        'EP-T': [
            ['í˜ì‹ ', 'ë¬¸ì œí•´ê²°', 'ë…¼ë¦¬ì '],
            ['ìœ ì—°ì„±', 'íš¨ìœ¨ì„±', 'ë³€í™”ì¶”êµ¬'],
            ['ì‹¤ìš©ì„±', 'ì ì‘ë ¥', 'ì¶”ì§„ë ¥'],
            ['ì¹´ë¦¬ìŠ¤ë§ˆ', 'ê°“ìƒ', 'ì±…ì„ê°'],
            ['ê³¼ì •ë³´ë‹¨ ê²°ê³¼', 'ê·œì¹™ì˜ ìˆ˜í˜¸ì']
        ],
        'EP-F': [
            ['ì†Œí†µ', 'ì—ë„ˆì§€', 'ê´€ê³„ì¤‘ì‹œ'],
            ['ììœ ë¡œì›€', 'í–‰ë³µì¶”êµ¬', 'ìœ ì—°ì„±'],
            ['ì°½ì˜ì„±', 'ê³µê°', 'ì—´ì •', 'ë‚™ì²œì '],
            ['ì¸ì‹¸', 'ììœ ë¡œì›€', 'í–‰ë³µ'],
            ['ê´€ê³„ê°€ ìµœìš°ì„ ', 'ììœ ë¡œìš´ ì˜í˜¼']
        ],
        'IJ-T': [
            ['ì „ë¬¸ì„±', 'ë¶„ì„ë ¥', 'ê³„íšì„±'],
            ['ë…¼ë¦¬ì ', 'ì²´ê³„ì ', 'íš¨ìœ¨ì„±'],
            ['ê¹Šì´ìˆëŠ”ì—°êµ¬', 'ì™„ë²½ì£¼ì˜', 'ë…ë¦½ì '],
            ['ìê¸°ê´€ë¦¬', 'ì²´ê³„ì ', 'ì—°êµ¬'],
            ['ë‚˜ë§Œì˜ ì—°êµ¬ì‹¤', 'ì™„ë²½í•œ ê³„íš']
        ],
        'IJ-F': [
            ['ë°°ë ¤', 'ê³„íšì„±', 'ê³µê°'],
            ['ê¼¼ê¼¼í•¨', 'ì„±ì¥ì§€ì›', 'ê°ì •ì´í•´'],
            ['ì¸ë‚´ì‹¬', 'ì„¸ì‹¬í•¨', 'ë”°ëœ»í•¨'],
            ['ë°°ë ¤', 'ê³µê°', 'ì§€ì›'],
            ['ë”°ëœ»í•œ ë©˜í† ']
        ],
        'IP-T': [
            ['íš¨ìœ¨ì„±', 'ì‹¤ìš©ì„±', 'ìœ ì—°ì„±'],
            ['ì„±ê³¼ì§€í–¥', 'ì‹¤ë ¥íŒŒ', 'ìµœì†Œí™”'],
            ['ë…ë¦½ì ', 'ìê¸°ê´€ë¦¬', 'ê²°ê³¼ì¤‘ì‹œ'],
            ['íš¨ìœ¨', 'ì„±ê³¼', 'í”„ë¡œ'],
            ['íš¨ìœ¨ì´ ìš°ì„ ', 'ì‹¤ìš©ì£¼ì˜ì']
        ],
        'IP-F': [
            ['ì°½ì˜ì„±', 'ììœ ë¡œì›€', 'ê°ìˆ˜ì„±'],
            ['ê°œì¸ê°€ì¹˜', 'í¸ì•ˆí•¨', 'ìœ ì—°ì„±'],
            ['ê°œë°©ì ', 'ë‚­ë§Œì£¼ì˜', 'ììœ ì¶”êµ¬'],
            ['ì°½ì˜', 'ê°ìˆ˜ì„±', 'ììœ '],
            ['ì–‘ë³´ê°€ ìŠµê´€']
        ]
    };

    // ê° ìœ í˜•ë³„ ë©”ì¸ ìƒ‰ìƒ í´ë˜ìŠ¤
    const typeColorClass = {
        'EJ-T': 'type1',
        'EJ-F': 'type2',
        'EP-T': 'type3',
        'EP-F': 'type4',
        'IJ-T': 'type5',
        'IJ-F': 'type6',
        'IP-T': 'type7',
        'IP-F': 'type8'
    };

    // --- UI Update Functions ---

    /** ë©”ì¸ í™”ë©´ì—ì„œ í€´ì¦ˆë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. */
    function startQuiz() {
        const mainScreen = document.getElementById('main-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const header = document.querySelector('header');
        const progressArea = document.getElementById('progress-area');
        
        // í‚¤ì›Œë“œ íŠ¸ë¦¬ ì „í™˜ ì¤‘ì§€
        stopKeywordTreeRotation();
        
        mainScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        header.classList.remove('hidden');
        progressArea.classList.remove('hidden');
        
        renderQuestion();
    }

    /** í˜„ì¬ ì§ˆë¬¸ì„ í™”ë©´ì— ë Œë”ë§í•©ë‹ˆë‹¤. */
    function renderQuestion() {
        const quizScreen = document.getElementById('quiz-screen');
        const progressArea = document.getElementById('progress-area');
        const currentQuestion = questions[quizState.currentQIndex];

        if (!currentQuestion) {
            calculateResult();
            return;
        }

        progressArea.classList.remove('hidden');

        const total = questions.length;
        const current = quizState.currentQIndex + 1;
        document.getElementById('question-counter').textContent = `${current}/${total}`;
        document.getElementById('progress-bar').style.width = `${(current / total) * 100}%`;

        quizScreen.innerHTML = `
            <div class="text-center mb-8">
                <p class="text-lg font-semibold text-[var(--primary-color)]">${current}/${total} ì§ˆë¬¸</p>
            </div>
            <div class="p-6 bg-white rounded-xl shadow-lg border-2 border-gray-100 mb-8">
                <p class="text-xl font-bold text-gray-800">${currentQuestion.text}</p>
            </div>
            <div class="space-y-4">
                ${currentQuestion.choices.map((choice, index) => `
                    <button 
                        class="choice-button w-full p-4 bg-white border border-gray-200 rounded-xl text-lg font-medium text-gray-700 shadow-sm hover:bg-gray-50 hover:border-[var(--secondary-color)]" 
                        onclick="handleAnswer(${choice.value}, '${currentQuestion.axis}')"
                    >
                        ${choice.text}
                    </button>
                `).join('')}
            </div>
        `;
    }

    /** ì‚¬ìš©ìì˜ ë‹µë³€ì„ ì²˜ë¦¬í•˜ê³  ë‹¤ìŒ ì§ˆë¬¸ìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤. */
    function handleAnswer(value, axis) {
        // ì ìˆ˜ ì—…ë°ì´íŠ¸
        if (axis === 'E') {
            quizState.scores.E += value;
        } else if (axis === 'P') {
            quizState.scores.P += value;
        } else if (axis === 'T') {
            quizState.scores.T += value;
        } else if (axis === 'C') {
            // ì—°ìˆ˜ ê³¼ì • ê´€ë ¨ ì§ˆë¬¸ ë‹µë³€ ì €ì¥
            quizState.courseAnswers.push(value);
        }
        
        // ë‹¤ìŒ ì§ˆë¬¸ìœ¼ë¡œ ì´ë™
        quizState.currentQIndex++;
        
        // ë§ˆì§€ë§‰ ì§ˆë¬¸ì¸ì§€ í™•ì¸
        if (quizState.currentQIndex < NUM_QUESTIONS) {
            renderQuestion();
        } else {
            quizState.isFinished = true;
            calculateResult();
        }
    }

    /** ìµœì¢… ê²°ê³¼ë¥¼ ê³„ì‚°í•˜ê³  ë Œë”ë§í•©ë‹ˆë‹¤. */
    function calculateResult() {
        // 1. ì ìˆ˜ ê¸°ë°˜ ì½”ë“œ ìƒì„± (4ì  ì´ìƒì´ë©´ 1, ì•„ë‹ˆë©´ 0)
        // E/I axis: E score >= 2 (4 questions total) -> E (1), otherwise I (0)
        // P/J axis: P score >= 2 (4 questions total) -> P (1), otherwise J (0)
        // T/F axis: T score >= 2 (4 questions total) -> T (1), otherwise F (0)
        
        const E_score = quizState.scores.E >= 2 ? '1' : '0'; // E (1) or I (0)
        const P_score = quizState.scores.P >= 2 ? '1' : '0'; // P (1) or J (0)
        const T_score = quizState.scores.T >= 2 ? '1' : '0'; // T (1) or F (0)
        
        const finalScoreCode = E_score + P_score + T_score; // e.g., '101' (E J T)

        // 2. í•´ë‹¹ ì½”ë“œì— ë§ëŠ” ìœ í˜• ì°¾ê¸°
        const resultType = teacherTypes.find(type => type.score === finalScoreCode);
        
        // 3. ë§ˆì§€ë§‰ 4ê°œ ì§ˆë¬¸ ë‹µë³€ì„ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ì—°ìˆ˜ ì¶”ì²œ ì¡°ì •
        const recommendedCourses = adjustCoursesByAnswers(resultType.courses, quizState.courseAnswers);
        
        // 4. ì¡°ì •ëœ ì—°ìˆ˜ ëª©ë¡ì„ resultTypeì— ì¶”ê°€
        resultType.recommendedCourses = recommendedCourses;
        
        // 5. ì¶”ì²œëœ ì—°ìˆ˜ì— ë§ëŠ” ë¶„ì„ ë¬¸êµ¬ ë™ì  ìƒì„±
        resultType.courseAnalysis = generateCourseAnalysis(resultType, recommendedCourses, quizState.courseAnswers);

        // 6. ê²°ê³¼ í™”ë©´ ë Œë”ë§
        renderResult(resultType);
    }

    /** ì¶”ì²œëœ ì—°ìˆ˜ì™€ ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„ ë¬¸êµ¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. */
    function generateCourseAnalysis(resultType, recommendedCourses, courseAnswers) {
        const digitalInterest = courseAnswers[0] || 0;
        const practicalPreference = courseAnswers[1] || 0;
        const aiInterest = courseAnswers[2] || 0;
        const collaborativeStyle = courseAnswers[3] || 0;
        
        // ì¶”ì²œëœ ì—°ìˆ˜ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
        const courseNames = recommendedCourses.map(num => allCourses[num]);
        
        // ìœ í˜•ë³„ ê¸°ë³¸ íŠ¹ì„± ë¬¸êµ¬
        const typeTraits = {
            'EJ-T': 'ì²´ê³„ì ì´ê³  ëª©í‘œ ì§€í–¥ì ì¸',
            'EJ-F': 'ë”°ëœ»í•˜ê³  í˜‘ë ¥ì ì¸',
            'EP-T': 'í˜ì‹ ì ì´ê³  ìœ ì—°í•œ',
            'EP-F': 'ì†Œí†µ ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ê³  ììœ ë¡œìš´',
            'IJ-T': 'ê¹Šì´ ìˆê²Œ ì—°êµ¬í•˜ê³  ì²´ê³„ì ì¸',
            'IJ-F': 'ë°°ë ¤ì‹¬ì´ ê¹Šê³  ê³„íšì ì¸',
            'IP-T': 'ì‹¤ìš©ì ì´ê³  íš¨ìœ¨ì ì¸',
            'IP-F': 'ììœ ë¡­ê³  ì°½ì˜ì ì¸'
        };
        
        const trait = typeTraits[resultType.code] || 'íŠ¹ë³„í•œ';
        
        // ì—°ìˆ˜ íŠ¹ì„± ë¶„ì„
        const hasAICourses = recommendedCourses.some(c => [6, 7].includes(c));
        const hasBasicCourses = recommendedCourses.some(c => [2, 5].includes(c));
        const hasPracticalCourses = recommendedCourses.some(c => [3, 4].includes(c));
        
        // ì—°ìˆ˜ ëª©ë¡ ë¬¸êµ¬ ìƒì„±
        let courseListText = '';
        if (courseNames.length === 1) {
            courseListText = `"${courseNames[0]}"`;
        } else if (courseNames.length === 2) {
            courseListText = `"${courseNames[0]}"ê³¼ "${courseNames[1]}"`;
        } else {
            courseListText = `"${courseNames[0]}", "${courseNames[1]}", "${courseNames[2]}"`;
        }
        
        // ì²« ë²ˆì§¸ ë¬¸ì¥: ì„ ìƒë‹˜ íŠ¹ì„±ê³¼ ì¶”ì²œ ì´ìœ 
        let analysis = `ì„ ìƒë‹˜ì€ ${trait} ì„±í–¥ì„ ê°€ì§€ê³  ìˆì–´ ${courseListText} ì—°ìˆ˜ê°€ ì í•©í•©ë‹ˆë‹¤. `;
        
        // ë‘ ë²ˆì§¸ ë¬¸ì¥: ë‹µë³€ ê¸°ë°˜ ë§ì¶¤ ì„¤ëª…
        const benefits = [];
        
        if (hasAICourses && aiInterest === 1) {
            benefits.push('ë¯¸ë˜ êµìœ¡ì„ ì„ ë„í•˜ëŠ” AI í™œìš© ì—­ëŸ‰ì„ ê°•í™”');
        }
        
        if (hasBasicCourses && digitalInterest === 0) {
            benefits.push('ë””ì§€í„¸ êµìœ¡ì˜ ê¸°ì´ˆë¥¼ íƒ„íƒ„íˆ ë‹¤ì§€ê¸°');
        }
        
        if (hasPracticalCourses && practicalPreference === 1) {
            benefits.push('ì‹¤ì œ ìˆ˜ì—…ì— ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ì „ ë„êµ¬ ìŠµë“');
        } else if (practicalPreference === 0 && !hasAICourses) {
            benefits.push('êµìœ¡ ì² í•™ê³¼ ì´ë¡ ì  ë°°ê²½ì„ ê¹Šì´ ì´í•´í•˜ê¸°');
        }
        
        if (benefits.length > 0) {
            if (benefits.length === 1) {
                analysis += `ì´ ì—°ìˆ˜ë¥¼ í†µí•´ ${benefits[0]}í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `;
            } else if (benefits.length === 2) {
                analysis += `ì´ ì—°ìˆ˜ë¥¼ í†µí•´ ${benefits[0]}í•˜ê³ , ${benefits[1]}í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `;
            } else {
                analysis += `ì´ ì—°ìˆ˜ë¥¼ í†µí•´ ${benefits[0]}í•˜ê³ , ${benefits[1]}í•˜ë©°, ${benefits[2]}í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `;
            }
        }
        
        // ì„¸ ë²ˆì§¸ ë¬¸ì¥: í•™ìŠµ ë°©ì‹ê³¼ ê¸°ëŒ€ íš¨ê³¼
        if (collaborativeStyle === 1) {
            analysis += 'ë™ë£Œë“¤ê³¼ í˜‘ë ¥í•˜ë©° í•¨ê»˜ ì„±ì¥í•˜ëŠ” ê³¼ì •ì—ì„œ ';
        } else {
            analysis += 'ë‚˜ë§Œì˜ ì†ë„ë¡œ ì°¨ê·¼ì°¨ê·¼ í•™ìŠµí•˜ëŠ” ê³¼ì •ì—ì„œ ';
        }
        
        // ìµœì¢… ëª©í‘œ ë¬¸êµ¬
        if (hasAICourses) {
            analysis += 'í•™ìƒë“¤ì—ê²Œ ë¯¸ë˜ ì—­ëŸ‰ì„ ê¸°ë¥´ê³  í˜ì‹ ì ì¸ ë””ì§€í„¸ êµìœ¡ì„ ì‹¤í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
        } else if (hasPracticalCourses) {
            analysis += 'íš¨ìœ¨ì ì´ê³  íš¨ê³¼ì ì¸ ìˆ˜ì—… ì„¤ê³„ ì—­ëŸ‰ì„ ê°•í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
        } else {
            analysis += 'ì²´ê³„ì ì´ê³  ì „ë¬¸ì ì¸ ë””ì§€í„¸ êµìœ¡ ì—­ëŸ‰ì„ ê¸°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
        }
        
        return analysis;
    }

    /** ë§ˆì§€ë§‰ 4ê°œ ì§ˆë¬¸ ë‹µë³€ì„ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ì—°ìˆ˜ ì¶”ì²œì„ ì¡°ì •í•©ë‹ˆë‹¤. */
    function adjustCoursesByAnswers(baseCourses, courseAnswers) {
        // courseAnswers: [13ë²ˆ ë‹µë³€, 14ë²ˆ ë‹µë³€, 15ë²ˆ ë‹µë³€, 16ë²ˆ ë‹µë³€]
        // 13ë²ˆ: ë””ì§€í„¸ ë„êµ¬ ê´€ì‹¬ë„ (1: ë†’ìŒ, 0: ë‚®ìŒ)
        // 14ë²ˆ: ì‹¤ìš©ì„± vs ì´ë¡  (1: ì‹¤ìš©, 0: ì´ë¡ )
        // 15ë²ˆ: AI ê´€ì‹¬ë„ (1: ë†’ìŒ, 0: ë‚®ìŒ)
        // 16ë²ˆ: í•™ìŠµ ë°©ì‹ (1: í˜‘ë ¥ì , 0: ë…ë¦½ì )
        
        const digitalInterest = courseAnswers[0] || 0; // 13ë²ˆ
        const practicalPreference = courseAnswers[1] || 0; // 14ë²ˆ
        const aiInterest = courseAnswers[2] || 0; // 15ë²ˆ
        const collaborativeStyle = courseAnswers[3] || 0; // 16ë²ˆ
        
        // ì—°ìˆ˜ ë¶„ë¥˜
        const basicCourses = [2, 5]; // ë””ì§€í„¸ ê¸°ë°˜ ìˆ˜ì—… í™œì„±í™”, ìŠ¤ë§ˆíŠ¸ ê¸°ê¸° í™œìš©
        const practicalCourses = [3, 4]; // ê¸€ë¡œë²Œ ì—ë“€í…Œí¬ ë§ˆìŠ¤í„°, í•™ìŠµì ë§ì¶¤í˜• ì†Œí”„íŠ¸ì›¨ì–´
        const aiCourses = [6, 7]; // ìƒì„±í˜• AI í™œìš©, SW-AI ì—­ëŸ‰ ì •ë³´í™”
        const theoryCourses = [4, 6]; // í•™ìŠµì ë§ì¶¤í˜• ì†Œí”„íŠ¸ì›¨ì–´, ìƒì„±í˜• AI í™œìš© (ì‹¬í™”)
        const collaborativeCourses = [2, 3, 5]; // í˜‘ë ¥ì  í•™ìŠµì— ì í•©í•œ ì—°ìˆ˜
        const independentCourses = [4, 6, 7]; // ìê¸°ì£¼ë„ í•™ìŠµì— ì í•©í•œ ì—°ìˆ˜
        
        // ì ìˆ˜ ê¸°ë°˜ ì¶”ì²œ ì‹œìŠ¤í…œ
        const courseScores = {};
        
        // ê¸°ë³¸ ìœ í˜•ì˜ ì—°ìˆ˜ì— ê°€ì¤‘ì¹˜ ë¶€ì—¬
        baseCourses.forEach(course => {
            courseScores[course] = (courseScores[course] || 0) + 3;
        });
        
        // 13ë²ˆ: ë””ì§€í„¸ ë„êµ¬ ê´€ì‹¬ë„ ë¶„ì„
        if (digitalInterest === 0) {
            // ê´€ì‹¬ë„ê°€ ë‚®ìœ¼ë©´ ê¸°ì´ˆ ì—°ìˆ˜ì— ë†’ì€ ì ìˆ˜
            basicCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 2;
            });
        } else {
            // ê´€ì‹¬ë„ê°€ ë†’ìœ¼ë©´ ê³ ê¸‰ ì—°ìˆ˜ì— ì ìˆ˜ ì¶”ê°€
            practicalCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1;
            });
            aiCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1;
            });
        }
        
        // 14ë²ˆ: ì‹¤ìš©ì„± vs ì´ë¡  ì„ í˜¸ë„ ë¶„ì„
        if (practicalPreference === 1) {
            // ì‹¤ìš© ì„ í˜¸ ì‹œ ì‹¤ì „ ì—°ìˆ˜ì— ë†’ì€ ì ìˆ˜
            practicalCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 2;
            });
        } else {
            // ì´ë¡  ì„ í˜¸ ì‹œ ì‹¬í™” ì—°ìˆ˜ì— ë†’ì€ ì ìˆ˜
            theoryCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 2;
            });
        }
        
        // 15ë²ˆ: AI ê´€ì‹¬ë„ ë¶„ì„
        if (aiInterest === 1) {
            // AI ê´€ì‹¬ë„ê°€ ë†’ìœ¼ë©´ AI ê´€ë ¨ ì—°ìˆ˜ì— ë†’ì€ ì ìˆ˜
            aiCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 3;
            });
        } else {
            // AI ê´€ì‹¬ë„ê°€ ë‚®ìœ¼ë©´ ê¸°ì´ˆ/ì¼ë°˜ ì—°ìˆ˜ì— ì ìˆ˜ ì¶”ê°€
            basicCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1;
            });
            practicalCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1;
            });
        }
        
        // 16ë²ˆ: í•™ìŠµ ë°©ì‹ ì„ í˜¸ë„ ë¶„ì„
        if (collaborativeStyle === 1) {
            // í˜‘ë ¥ì  í•™ìŠµ ì„ í˜¸ ì‹œ ê·¸ë£¹ í™œë™ì´ ë§ì€ ì—°ìˆ˜ì— ì ìˆ˜ ì¶”ê°€
            collaborativeCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1.5;
            });
        } else {
            // ë…ë¦½ì  í•™ìŠµ ì„ í˜¸ ì‹œ ìê¸°ì£¼ë„í˜• ì—°ìˆ˜ì— ì ìˆ˜ ì¶”ê°€
            independentCourses.forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1.5;
            });
        }
        
        // ì¢…í•© ë¶„ì„: íŠ¹ì • ì¡°í•©ì— ëŒ€í•œ ë³´ë„ˆìŠ¤ ì ìˆ˜
        // ë””ì§€í„¸ ê´€ì‹¬ë„ ë†’ìŒ + ì‹¤ìš© ì„ í˜¸ + AI ê´€ì‹¬ ë†’ìŒ = ê³ ê¸‰ ì‹¤ì „ ì—°ìˆ˜
        if (digitalInterest === 1 && practicalPreference === 1 && aiInterest === 1) {
            [3, 6, 7].forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1;
            });
        }
        
        // ë””ì§€í„¸ ê´€ì‹¬ë„ ë‚®ìŒ + ì´ë¡  ì„ í˜¸ = ê¸°ì´ˆ ì´ë¡  ì—°ìˆ˜
        if (digitalInterest === 0 && practicalPreference === 0) {
            [2, 4].forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 1;
            });
        }
        
        // AI ê´€ì‹¬ ë†’ìŒ + í˜‘ë ¥ì  = AI í˜‘ë ¥ ì—°ìˆ˜
        if (aiInterest === 1 && collaborativeStyle === 1) {
            [6, 7].forEach(course => {
                courseScores[course] = (courseScores[course] || 0) + 0.5;
            });
        }
        
        // ì ìˆ˜ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì—¬ ìƒìœ„ 3ê°œ ì„ íƒ
        const sortedCourses = Object.entries(courseScores)
            .sort((a, b) => b[1] - a[1])
            .map(([course]) => parseInt(course));
        
        // ìµœëŒ€ 3ê°œ ë°˜í™˜ (ì ìˆ˜ê°€ 0ë³´ë‹¤ í° ê²ƒë§Œ)
        return sortedCourses.filter(course => courseScores[course] > 0).slice(0, 3);
    }

    /** ìµœì¢… ê²°ê³¼ í™”ë©´ì„ ë Œë”ë§í•©ë‹ˆë‹¤. */
    function renderResult(resultType) {
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const progressArea = document.getElementById('progress-area');
        const header = document.querySelector('header');

        quizScreen.classList.add('hidden');
        progressArea.classList.add('hidden');
        header.classList.add('hidden');
        resultScreen.classList.remove('hidden');

        // ì½”ìŠ¤ ëª©ë¡ ìƒì„± (ì¡°ì •ëœ ì—°ìˆ˜ ëª©ë¡ ì‚¬ìš©)
        const coursesToShow = resultType.recommendedCourses || resultType.courses;
        const courseListHTML = coursesToShow.map(courseNum => {
            const isCourse7 = courseNum === 7;
            return `
            <li class="flex items-start text-left p-3 rounded-lg shadow-sm ${isCourse7 ? 'course-7' : 'bg-white border border-gray-100'}">
                <span class="inline-block text-xl font-bold mr-3 text-[var(--secondary-color)]">#${courseNum}</span>
                <span class="flex-grow ${isCourse7 ? 'course-7-text font-semibold' : 'text-gray-700'}">${allCourses[courseNum]}</span>
            </li>
            `;
        }).join('');

        // ê²°ê³¼ í™”ë©´ìš© í‚¤ì›Œë“œ íŠ¸ë¦¬ ìƒì„±
        const resultKeywords = typeKeywords[resultType.code];
        const resultColorClass = typeColorClass[resultType.code];
        let resultKeywordTreeHTML = '';
        if (resultKeywords && resultColorClass) {
            resultKeywords.forEach((row) => {
                resultKeywordTreeHTML += '<div class="tree-row">';
                row.forEach((keyword) => {
                    resultKeywordTreeHTML += `<div class="keyword-bubble ${resultColorClass}">${keyword}</div>`;
                });
                resultKeywordTreeHTML += '</div>';
            });
        }

        resultScreen.innerHTML = `
            <div class="text-center mb-6 mt-4">
                <h2 class="text-3xl font-extrabold text-[var(--primary-color)] mb-2">ğŸ‰ ë‚˜ì˜ ì„ ìƒë‹˜ ìœ í˜•ì€?</h2>
            </div>
            
            <div class="bg-white rounded-2xl shadow-2xl p-6 mb-6 border-4 border-[var(--primary-color)]">
                <h3 class="text-3xl font-bold text-gray-800 mb-4">${resultType.name}</h3>
                <p class="text-base text-gray-600 leading-relaxed">${resultType.description}</p>
            </div>

            <!-- í‚¤ì›Œë“œ íŠ¸ë¦¬ -->
            <div class="keyword-tree mb-1">
                ${resultKeywordTreeHTML}
            </div>

            <!-- ì¶”ì²œ ì—°ìˆ˜ -->
            <div class="mb-8">
                <h4 class="text-xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center">
                    <span class="mr-2 text-2xl">ğŸ’¡</span> ì„ ìƒë‹˜ê»˜ ì¶”ì²œí•˜ëŠ” ë””ì§€í„¸ êµìœ¡í˜ì‹  ì—°ìˆ˜
                </h4>
                <ul class="space-y-3 mb-4">
                    ${courseListHTML}
                </ul>
                <!-- ì—°ìˆ˜ ì¶”ì²œ ë¶„ì„ -->
                <div class="mt-6 p-4 bg-gradient-to-r from-blue-50 to-pink-50 rounded-xl border-l-4 border-[var(--primary-color)]">
                    <p class="text-base text-gray-700 leading-relaxed">
                        ${resultType.courseAnalysis || 'ì„ ìƒë‹˜ì˜ íŠ¹ì„±ì— ë§ëŠ” ë””ì§€í„¸ êµìœ¡í˜ì‹  ì—°ìˆ˜ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.'}
                    </p>
                </div>
            </div>

            <!-- ë‹¤ì‹œí•˜ê¸° ë²„íŠ¼ -->
            <div class="mt-8 text-center space-y-3">
                <button 
                    class="w-full py-3 bg-[var(--secondary-color)] text-white font-bold text-lg rounded-full shadow-lg hover:bg-blue-600 transition-colors"
                    onclick="resetQuiz()"
                >
                    ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°
                </button>
            </div>
            
            <!-- ì—°ìˆ˜ ë“¤ìœ¼ëŸ¬ê°€ê¸° ë§í¬ -->
            <div class="mt-6 text-center">
                <a href="#" class="text-2xl font-bold text-[var(--primary-color)] hover:text-pink-600 transition-colors underline decoration-2 underline-offset-4">
                    ì—°ìˆ˜ ë“¤ìœ¼ëŸ¬ê°€ê¸°! Click!
                </a>
            </div>
        `;
    }

    /** í€´ì¦ˆë¥¼ ì´ˆê¸°í™”í•˜ê³  ì²« í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤. */
    function resetQuiz() {
        quizState.currentQIndex = 0;
        quizState.scores = { E: 0, P: 0, T: 0 };
        quizState.courseAnswers = [];
        quizState.isFinished = false;

        const mainScreen = document.getElementById('main-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const header = document.querySelector('header');
        const progressArea = document.getElementById('progress-area');
        
        // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
        quizScreen.classList.add('hidden');
        resultScreen.classList.add('hidden');
        progressArea.classList.add('hidden');
        
        // ë©”ì¸ í™”ë©´ í‘œì‹œ
        mainScreen.classList.remove('hidden');
        header.classList.add('hidden');
        
        // í‚¤ì›Œë“œ íŠ¸ë¦¬ ìë™ ì „í™˜ ë‹¤ì‹œ ì‹œì‘
        currentTypeIndex = 0;
        startKeywordTreeRotation();
    }

    // --- Keyword Tree Functions ---
    let currentTypeIndex = 0;
    let treeInterval = null;

    /** í‚¤ì›Œë“œ íŠ¸ë¦¬ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤. */
    function renderKeywordTree(typeCode) {
        const treeContainer = document.getElementById('keyword-tree');
        const keywords = typeKeywords[typeCode];
        const colorClass = typeColorClass[typeCode];
        
        if (!keywords || !colorClass) return;
        
        let html = '';
        
        // ê° í–‰ ë Œë”ë§ (ëª¨ë“  ë²„ë¸”ì´ ê°™ì€ ìƒ‰ìƒ ì‚¬ìš©, 5ì¤„)
        keywords.forEach((row, rowIndex) => {
            html += '<div class="tree-row">';
            row.forEach((keyword, keywordIndex) => {
                html += `<div class="keyword-bubble ${colorClass}">${keyword}</div>`;
            });
            html += '</div>';
        });
        
        treeContainer.innerHTML = html;
    }

    /** ë‹¤ìŒ ìœ í˜•ìœ¼ë¡œ ì „í™˜í•©ë‹ˆë‹¤. */
    function switchToNextType() {
        const treeContainer = document.getElementById('keyword-tree');
        treeContainer.classList.add('fade-out');
        
        setTimeout(() => {
            currentTypeIndex = (currentTypeIndex + 1) % teacherTypes.length;
            const currentType = teacherTypes[currentTypeIndex];
            renderKeywordTree(currentType.code);
            treeContainer.classList.remove('fade-out');
        }, 500);
    }

    /** í‚¤ì›Œë“œ íŠ¸ë¦¬ ìë™ ì „í™˜ì„ ì‹œì‘í•©ë‹ˆë‹¤. */
    function startKeywordTreeRotation() {
        // ì´ˆê¸° íŠ¸ë¦¬ ë Œë”ë§
        if (teacherTypes.length > 0) {
            renderKeywordTree(teacherTypes[0].code);
        }
        
        // 3ì´ˆë§ˆë‹¤ ì „í™˜
        treeInterval = setInterval(switchToNextType, 3000);
    }

    /** í‚¤ì›Œë“œ íŠ¸ë¦¬ ìë™ ì „í™˜ì„ ì¤‘ì§€í•©ë‹ˆë‹¤. */
    function stopKeywordTreeRotation() {
        if (treeInterval) {
            clearInterval(treeInterval);
            treeInterval = null;
        }
    }

    // --- Initialization ---
    // Show main screen when the window loads
    window.onload = function() {
        const header = document.querySelector('header');
        const progressArea = document.getElementById('progress-area');
        header.classList.add('hidden');
        progressArea.classList.add('hidden');
        
        // í‚¤ì›Œë“œ íŠ¸ë¦¬ ìë™ ì „í™˜ ì‹œì‘
        startKeywordTreeRotation();
    };

    // Firebase Setup (Required boilerplate - not fully implemented for this single-session quiz logic)
    // const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
    // const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
    
    // if (firebaseConfig) {
    //     // import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    //     // import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    //     // const app = initializeApp(firebaseConfig);
    //     // const auth = getAuth(app);
    //     // const token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
    //     // if (token) {
    //     //     signInWithCustomToken(auth, token).catch(e => console.error("Firebase Auth Error:", e));
    //     // } else {
    //     //     signInAnonymously(auth).catch(e => console.error("Firebase Anon Auth Error:", e));
    //     // }
    // }

</script>

</body>
</html>